{"ast":null,"code":"import React,{useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import{motion}from\"framer-motion\";import API from\"../api/axiosInstance\";import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const Auth=()=>{const[form,setForm]=useState({username:\"\",email:\"\",password:\"\",identifier:\"\"});const[otp,setOtp]=useState(\"\");const[isLogin,setIsLogin]=useState(true);const[loading,setLoading]=useState(false);const[success,setSuccess]=useState(false);const[isOtpSent,setIsOtpSent]=useState(false);const[isOtpMode,setIsOtpMode]=useState(false);const[emailForOtp,setEmailForOtp]=useState(\"\");const[isVerifyMode,setIsVerifyMode]=useState(false);const navigate=useNavigate();const handleChange=useCallback(e=>{setForm(prev=>({...prev,[e.target.name]:e.target.value}));},[]);const handleSubmit=useCallback(async e=>{e.preventDefault();setLoading(true);try{const endpoint=isLogin?\"/auth/login\":\"/auth/signup\";const payload=isLogin?{identifier:form.identifier,password:form.password}:{username:form.username,email:form.email,password:form.password};const{data}=await API.post(endpoint,payload);if(!isLogin){setEmailForOtp(form.email);setIsOtpSent(true);}else{localStorage.setItem(\"token\",data.token);localStorage.setItem(\"name\",data.username||\"User\");window.dispatchEvent(new Event(\"storageUpdate\"));setSuccess(true);setTimeout(()=>navigate(\"/\"),1500);}}catch(error){var _error$response,_error$response2,_error$response3,_error$response3$data;console.error(\"Error in authentication:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);if(((_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.status)===401&&((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.message)===\"Please verify your email first\"){setEmailForOtp(form.identifier);// Store identifier for OTP flow\nsetIsVerifyMode(true);}else{var _error$response4,_error$response4$data;alert(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.message)||\"Authentication failed!\");}}finally{setLoading(false);}},[form,isLogin,navigate]);const handleRequestOtp=async()=>{setLoading(true);try{await API.post(\"/auth/request-verification-otp\",{identifier:form.identifier});setEmailForOtp(form.identifier);setIsOtpSent(true);setIsVerifyMode(false);}catch(err){var _err$response,_err$response$data;alert(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Failed to send OTP\");}finally{setLoading(false);}};const handleVerifyOtp=async()=>{setLoading(true);try{await API.post(\"/auth/verify-email\",{email:emailForOtp,otp});const{data}=await API.post(\"/auth/login\",{identifier:emailForOtp,password:form.password});localStorage.setItem(\"token\",data.token);localStorage.setItem(\"name\",data.username||\"User\");window.dispatchEvent(new Event(\"storageUpdate\"));setSuccess(true);setTimeout(()=>navigate(\"/\"),1500);}catch(error){var _error$response5,_error$response6,_error$response6$data;console.error(\"OTP verification or login error:\",((_error$response5=error.response)===null||_error$response5===void 0?void 0:_error$response5.data)||error.message);alert(((_error$response6=error.response)===null||_error$response6===void 0?void 0:(_error$response6$data=_error$response6.data)===null||_error$response6$data===void 0?void 0:_error$response6$data.message)||\"OTP Verification or Login Failed\");}finally{setLoading(false);}};const handleForgotPassword=async identifier=>{if(!identifier)return;setLoading(true);try{await API.post(\"/auth/request-password-reset\",{identifier});setEmailForOtp(identifier);setIsOtpMode(true);}catch(err){var _err$response2,_err$response2$data;alert(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Failed to send OTP\");}finally{setLoading(false);}};const handleResetPassword=async()=>{setLoading(true);try{await API.post(\"/auth/reset-password\",{email:emailForOtp,otp,newPassword:form.password});setSuccess(true);setTimeout(()=>navigate(\"/\"),1500);}catch(err){var _err$response3,_err$response3$data;alert(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||\"Password Reset Failed\");}finally{setLoading(false);}};const toggleMode=useCallback(()=>{setIsLogin(prev=>!prev);setForm({username:\"\",email:\"\",password:\"\",identifier:\"\"});},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:0.8,ease:\"easeOut\"},className:\"bg-white rounded-2xl shadow-lg p-6 w-full max-w-sm sm:max-w-md md:ml-64\",children:success?/*#__PURE__*/_jsx(\"div\",{className:\"text-green-500 text-center\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Success! Redirecting...\"})}):isOtpSent?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"Verify OTP\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter OTP\",value:otp,onChange:e=>setOtp(e.target.value),className:\"w-full px-3 py-2 border rounded-xl mt-4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleVerifyOtp,className:\"mt-4 w-full bg-blue-500 text-white py-2 rounded-xl\",disabled:loading,children:loading?\"Verifying...\":\"Verify\"})]}):isOtpMode?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"Reset Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter OTP\",value:otp,onChange:e=>setOtp(e.target.value),className:\"w-full px-3 py-2 border rounded-xl mt-4\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"New Password\",name:\"password\",value:form.password,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-xl mt-4\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleResetPassword,className:\"mt-4 w-full bg-green-500 text-white py-2 rounded-xl\",disabled:loading,children:loading?\"Resetting...\":\"Reset Password\"})]}):isVerifyMode?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold text-gray-800\",children:\"Verify Your Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-2\",children:\"Your email is not verified. Please enter your email or username to receive an OTP.\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"identifier\",placeholder:\"Enter your email or username\",value:form.identifier,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-xl mt-4\",required:true}),/*#__PURE__*/_jsx(\"button\",{onClick:handleRequestOtp,className:\"mt-4 w-full bg-blue-500 text-white py-2 rounded-xl\",disabled:loading||!form.identifier,children:loading?\"Sending OTP...\":\"Send OTP\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-yellow-500 cursor-pointer mt-4\",onClick:()=>setIsVerifyMode(false),children:\"Back to Login\"})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-xl sm:text-2xl font-extrabold text-gray-800 mb-4\",children:[isLogin?\"Welcome Back\":\"Create Account\",/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-400\",children:\"!\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[isLogin?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email or Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"identifier\",placeholder:\"Enter your email or username\",value:form.identifier,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-xl\",required:true})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"Choose a username\",value:form.username,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-xl\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter your email\",value:form.email,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-xl\",required:true})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",placeholder:\"Enter your password\",value:form.password,onChange:handleChange,className:\"w-full px-3 py-2 border rounded-xl\",required:true})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:loading,className:\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 rounded-xl\",children:loading?\"Processing...\":isLogin?\"Login\":\"Register\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-yellow-500 cursor-pointer mt-4\",onClick:toggleMode,children:isLogin?\"Don't have an account? Register\":\"Already have an account? Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-blue-500 cursor-pointer mt-2\",children:/*#__PURE__*/_jsx(\"span\",{onClick:()=>{const identifier=prompt(\"Enter your registered email or username:\");handleForgotPassword(identifier);},children:\"Forgot Password?\"})})]})})});};export default Auth;","map":{"version":3,"names":["React","useState","useCallback","useNavigate","motion","API","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Auth","form","setForm","username","email","password","identifier","otp","setOtp","isLogin","setIsLogin","loading","setLoading","success","setSuccess","isOtpSent","setIsOtpSent","isOtpMode","setIsOtpMode","emailForOtp","setEmailForOtp","isVerifyMode","setIsVerifyMode","navigate","handleChange","e","prev","target","name","value","handleSubmit","preventDefault","endpoint","payload","data","post","localStorage","setItem","token","window","dispatchEvent","Event","setTimeout","error","_error$response","_error$response2","_error$response3","_error$response3$data","console","response","message","status","_error$response4","_error$response4$data","alert","handleRequestOtp","err","_err$response","_err$response$data","handleVerifyOtp","_error$response5","_error$response6","_error$response6$data","handleForgotPassword","_err$response2","_err$response2$data","handleResetPassword","newPassword","_err$response3","_err$response3$data","toggleMode","className","children","div","initial","opacity","y","animate","transition","duration","ease","type","placeholder","onChange","onClick","disabled","required","onSubmit","prompt"],"sources":["/Users/govindsinghtanwar/coding/Projects/debatify/frontend/src/pages/Auth.js"],"sourcesContent":["import React, { useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { motion } from \"framer-motion\";\nimport API from \"../api/axiosInstance\";\n\nconst Auth = () => {\n  const [form, setForm] = useState({ username: \"\", email: \"\", password: \"\", identifier: \"\" });\n  const [otp, setOtp] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(true);\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [isOtpSent, setIsOtpSent] = useState(false);\n  const [isOtpMode, setIsOtpMode] = useState(false);\n  const [emailForOtp, setEmailForOtp] = useState(\"\");\n  const [isVerifyMode, setIsVerifyMode] = useState(false);\n  const navigate = useNavigate();\n\n  const handleChange = useCallback((e) => {\n    setForm((prev) => ({ ...prev, [e.target.name]: e.target.value }));\n  }, []);\n\n  const handleSubmit = useCallback(\n    async (e) => {\n      e.preventDefault();\n      setLoading(true);\n      try {\n        const endpoint = isLogin ? \"/auth/login\" : \"/auth/signup\";\n        const payload = isLogin\n          ? { identifier: form.identifier, password: form.password }\n          : { username: form.username, email: form.email, password: form.password };\n        const { data } = await API.post(endpoint, payload);\n        if (!isLogin) {\n          setEmailForOtp(form.email);\n          setIsOtpSent(true);\n        } else {\n          localStorage.setItem(\"token\", data.token);\n          localStorage.setItem(\"name\", data.username || \"User\");\n          window.dispatchEvent(new Event(\"storageUpdate\"));\n          setSuccess(true);\n          setTimeout(() => navigate(\"/\"), 1500);\n        }\n      } catch (error) {\n        console.error(\"Error in authentication:\", error.response?.data || error.message);\n        if (error.response?.status === 401 && error.response?.data?.message === \"Please verify your email first\") {\n          setEmailForOtp(form.identifier); // Store identifier for OTP flow\n          setIsVerifyMode(true);\n        } else {\n          alert(error.response?.data?.message || \"Authentication failed!\");\n        }\n      } finally {\n        setLoading(false);\n      }\n    },\n    [form, isLogin, navigate]\n  );\n\n  const handleRequestOtp = async () => {\n    setLoading(true);\n    try {\n      await API.post(\"/auth/request-verification-otp\", { identifier: form.identifier });\n      setEmailForOtp(form.identifier);\n      setIsOtpSent(true);\n      setIsVerifyMode(false);\n    } catch (err) {\n      alert(err.response?.data?.message || \"Failed to send OTP\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleVerifyOtp = async () => {\n    setLoading(true);\n    try {\n      await API.post(\"/auth/verify-email\", { email: emailForOtp, otp });\n      const { data } = await API.post(\"/auth/login\", {\n        identifier: emailForOtp,\n        password: form.password,\n      });\n      localStorage.setItem(\"token\", data.token);\n      localStorage.setItem(\"name\", data.username || \"User\");\n      window.dispatchEvent(new Event(\"storageUpdate\"));\n      setSuccess(true);\n      setTimeout(() => navigate(\"/\"), 1500);\n    } catch (error) {\n      console.error(\"OTP verification or login error:\", error.response?.data || error.message);\n      alert(error.response?.data?.message || \"OTP Verification or Login Failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleForgotPassword = async (identifier) => {\n    if (!identifier) return;\n    setLoading(true);\n    try {\n      await API.post(\"/auth/request-password-reset\", { identifier });\n      setEmailForOtp(identifier);\n      setIsOtpMode(true);\n    } catch (err) {\n      alert(err.response?.data?.message || \"Failed to send OTP\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleResetPassword = async () => {\n    setLoading(true);\n    try {\n      await API.post(\"/auth/reset-password\", { email: emailForOtp, otp, newPassword: form.password });\n      setSuccess(true);\n      setTimeout(() => navigate(\"/\"), 1500);\n    } catch (err) {\n      alert(err.response?.data?.message || \"Password Reset Failed\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const toggleMode = useCallback(() => {\n    setIsLogin((prev) => !prev);\n    setForm({ username: \"\", email: \"\", password: \"\", identifier: \"\" });\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-blue-100 via-purple-100 to-pink-100 flex items-center justify-center p-4\">\n      <motion.div\n        initial={{ opacity: 0, y: 50 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.8, ease: \"easeOut\" }}\n        className=\"bg-white rounded-2xl shadow-lg p-6 w-full max-w-sm sm:max-w-md md:ml-64\"\n      >\n        {success ? (\n          <div className=\"text-green-500 text-center\">\n            <p>Success! Redirecting...</p>\n          </div>\n        ) : isOtpSent ? (\n          <>\n            <h2 className=\"text-xl font-bold text-gray-800\">Verify OTP</h2>\n            <input\n              type=\"text\"\n              placeholder=\"Enter OTP\"\n              value={otp}\n              onChange={(e) => setOtp(e.target.value)}\n              className=\"w-full px-3 py-2 border rounded-xl mt-4\"\n            />\n            <button\n              onClick={handleVerifyOtp}\n              className=\"mt-4 w-full bg-blue-500 text-white py-2 rounded-xl\"\n              disabled={loading}\n            >\n              {loading ? \"Verifying...\" : \"Verify\"}\n            </button>\n          </>\n        ) : isOtpMode ? (\n          <>\n            <h2 className=\"text-xl font-bold text-gray-800\">Reset Password</h2>\n            <input\n              type=\"text\"\n              placeholder=\"Enter OTP\"\n              value={otp}\n              onChange={(e) => setOtp(e.target.value)}\n              className=\"w-full px-3 py-2 border rounded-xl mt-4\"\n            />\n            <input\n              type=\"password\"\n              placeholder=\"New Password\"\n              name=\"password\"\n              value={form.password}\n              onChange={handleChange}\n              className=\"w-full px-3 py-2 border rounded-xl mt-4\"\n            />\n            <button\n              onClick={handleResetPassword}\n              className=\"mt-4 w-full bg-green-500 text-white py-2 rounded-xl\"\n              disabled={loading}\n            >\n              {loading ? \"Resetting...\" : \"Reset Password\"}\n            </button>\n          </>\n        ) : isVerifyMode ? (\n          <>\n            <h2 className=\"text-xl font-bold text-gray-800\">Verify Your Email</h2>\n            <p className=\"text-sm text-gray-600 mt-2\">Your email is not verified. Please enter your email or username to receive an OTP.</p>\n            <input\n              type=\"text\"\n              name=\"identifier\"\n              placeholder=\"Enter your email or username\"\n              value={form.identifier}\n              onChange={handleChange}\n              className=\"w-full px-3 py-2 border rounded-xl mt-4\"\n              required\n            />\n            <button\n              onClick={handleRequestOtp}\n              className=\"mt-4 w-full bg-blue-500 text-white py-2 rounded-xl\"\n              disabled={loading || !form.identifier}\n            >\n              {loading ? \"Sending OTP...\" : \"Send OTP\"}\n            </button>\n            <p\n              className=\"text-center text-yellow-500 cursor-pointer mt-4\"\n              onClick={() => setIsVerifyMode(false)}\n            >\n              Back to Login\n            </p>\n          </>\n        ) : (\n          <>\n            <h2 className=\"text-xl sm:text-2xl font-extrabold text-gray-800 mb-4\">\n              {isLogin ? \"Welcome Back\" : \"Create Account\"}\n              <span className=\"text-yellow-400\">!</span>\n            </h2>\n            <form onSubmit={handleSubmit} className=\"space-y-4\">\n              {isLogin ? (\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">\n                    Email or Username\n                  </label>\n                  <input\n                    type=\"text\"\n                    name=\"identifier\"\n                    placeholder=\"Enter your email or username\"\n                    value={form.identifier}\n                    onChange={handleChange}\n                    className=\"w-full px-3 py-2 border rounded-xl\"\n                    required\n                  />\n                </div>\n              ) : (\n                <>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Username</label>\n                    <input\n                      type=\"text\"\n                      name=\"username\"\n                      placeholder=\"Choose a username\"\n                      value={form.username}\n                      onChange={handleChange}\n                      className=\"w-full px-3 py-2 border rounded-xl\"\n                      required\n                    />\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n                    <input\n                      type=\"email\"\n                      name=\"email\"\n                      placeholder=\"Enter your email\"\n                      value={form.email}\n                      onChange={handleChange}\n                      className=\"w-full px-3 py-2 border rounded-xl\"\n                      required\n                    />\n                  </div>\n                </>\n              )}\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Password</label>\n                <input\n                  type=\"password\"\n                  name=\"password\"\n                  placeholder=\"Enter your password\"\n                  value={form.password}\n                  onChange={handleChange}\n                  className=\"w-full px-3 py-2 border rounded-xl\"\n                  required\n                />\n              </div>\n              <button\n                type=\"submit\"\n                disabled={loading}\n                className=\"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white py-2 rounded-xl\"\n              >\n                {loading ? \"Processing...\" : isLogin ? \"Login\" : \"Register\"}\n              </button>\n            </form>\n            <p className=\"text-center text-yellow-500 cursor-pointer mt-4\" onClick={toggleMode}>\n              {isLogin ? \"Don't have an account? Register\" : \"Already have an account? Login\"}\n            </p>\n            <p className=\"text-center text-blue-500 cursor-pointer mt-2\">\n              <span\n                onClick={() => {\n                  const identifier = prompt(\"Enter your registered email or username:\");\n                  handleForgotPassword(identifier);\n                }}\n              >\n                Forgot Password?\n              </span>\n            </p>\n          </>\n        )}\n      </motion.div>\n    </div>\n  );\n};\n\nexport default Auth;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}