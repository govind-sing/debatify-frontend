{"ast":null,"code":"import React,{useEffect,useState,useCallback}from\"react\";import{useNavigate}from\"react-router-dom\";import API from\"../api/axiosInstance\";import{motion}from\"framer-motion\";import{BookmarkIcon}from\"@heroicons/react/outline\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Bookmarks=()=>{const[bookmarks,setBookmarks]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);const navigate=useNavigate();useEffect(()=>{const fetchBookmarks=async()=>{try{const token=localStorage.getItem(\"token\");if(!token){setError(\"Please log in to view bookmarks\");return;}const{data}=await API.get(\"/bookmarks\");setBookmarks(data);}catch(err){console.error(\"Error fetching bookmarks:\",err);setError(\"Failed to load bookmarks\");}finally{setLoading(false);}};fetchBookmarks();},[]);const handleNavigate=useCallback(item=>{if(item.type===\"blog\")navigate(`/blogpage/${item._id}`);else if(item.type===\"debate\")navigate(`/debatepage/${item._id}`);else if(item.type===\"discussion\")navigate(`/discussionpage/${item._id}`);},[navigate]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-gray-100 via-blue-50 to-indigo-100 md:ml-64\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:0.8,ease:\"easeOut\"},className:\"bg-gradient-to-r from-indigo-600 to-blue-600 text-white py-12 md:py-16 px-4 md:px-5 text-center shadow-lg relative\",children:[/*#__PURE__*/_jsx(motion.div,{animate:{scale:[1,1.05,1],opacity:[0.8,1,0.8]},transition:{duration:2,repeat:Infinity,ease:\"easeInOut\"},className:\"inline-block\",children:/*#__PURE__*/_jsx(BookmarkIcon,{className:\"h-12 w-12 md:h-16 md:w-16 mx-auto mb-4 text-yellow-300\"})}),/*#__PURE__*/_jsxs(\"h1\",{className:\"text-4xl md:text-6xl font-extrabold tracking-tight mb-4\",children:[\"Your \",/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-300\",children:\"Bookmarks\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-base md:text-xl max-w-xl mx-auto opacity-90\",children:\"Revisit your favorite blogs, debates, and discussions anytime.\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 md:p-10 max-w-6xl mx-auto\",children:loading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(motion.div,{animate:{rotate:360},transition:{duration:1,repeat:Infinity,ease:\"linear\"},className:\"inline-block h-6 w-6 md:h-8 md:w-8 border-4 border-indigo-500 border-t-transparent rounded-full\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-2 text-sm md:text-base\",children:\"Loading bookmarks...\"})]}):error?/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5},className:\"text-center text-red-500 text-base md:text-lg\",children:error}):bookmarks.length===0?/*#__PURE__*/_jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5},className:\"text-center text-gray-500 text-base md:text-lg\",children:\"You haven't bookmarked any posts yet.\"}):/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:0.5,delay:0.4},className:\"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\",children:bookmarks.map(item=>{var _item$author;return/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},whileHover:{scale:1.03,transition:{duration:0.2}},className:\"relative group bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl cursor-pointer\",onClick:()=>handleNavigate(item),children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-gradient-to-t from-indigo-500/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 relative z-10\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl md:text-2xl font-semibold text-gray-800 group-hover:text-white transition-colors duration-300 mb-2\",children:item.title||\"Untitled\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 group-hover:text-gray-200 text-sm md:text-base mb-3\",children:[(item.description||item.openingArgument||item.content||\"No preview available\").substring(0,80),\"...\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-xs md:text-sm text-indigo-500 group-hover:text-yellow-300 font-medium transition-colors duration-300 capitalize\",children:item.type}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs md:text-sm text-gray-500 group-hover:text-gray-300 transition-colors duration-300\",children:[\"By: \",((_item$author=item.author)===null||_item$author===void 0?void 0:_item$author.username)||\"Unknown\"]})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs md:text-sm text-gray-500 group-hover:text-gray-300 mt-2 transition-colors duration-300\",children:[\"Views: \",item.views||0]})]})]},item._id);})})})]});};export default Bookmarks;","map":{"version":3,"names":["React","useEffect","useState","useCallback","useNavigate","API","motion","BookmarkIcon","jsx","_jsx","jsxs","_jsxs","Bookmarks","bookmarks","setBookmarks","loading","setLoading","error","setError","navigate","fetchBookmarks","token","localStorage","getItem","data","get","err","console","handleNavigate","item","type","_id","className","children","div","initial","opacity","y","animate","transition","duration","ease","scale","repeat","Infinity","rotate","p","length","delay","map","_item$author","whileHover","onClick","title","description","openingArgument","content","substring","author","username","views"],"sources":["/Users/govindsinghtanwar/coding/Projects/debatify/frontend/src/components/Bookmark.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport API from \"../api/axiosInstance\";\nimport { motion } from \"framer-motion\";\nimport { BookmarkIcon } from \"@heroicons/react/outline\";\n\nconst Bookmarks = () => {\n  const [bookmarks, setBookmarks] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const fetchBookmarks = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        if (!token) {\n          setError(\"Please log in to view bookmarks\");\n          return;\n        }\n        const { data } = await API.get(\"/bookmarks\");\n        setBookmarks(data);\n      } catch (err) {\n        console.error(\"Error fetching bookmarks:\", err);\n        setError(\"Failed to load bookmarks\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchBookmarks();\n  }, []);\n\n  const handleNavigate = useCallback((item) => {\n    if (item.type === \"blog\") navigate(`/blogpage/${item._id}`);\n    else if (item.type === \"debate\") navigate(`/debatepage/${item._id}`);\n    else if (item.type === \"discussion\") navigate(`/discussionpage/${item._id}`);\n  }, [navigate]);\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-100 via-blue-50 to-indigo-100 md:ml-64\">\n      {/* Hero Section */}\n      <motion.div\n        initial={{ opacity: 0, y: 30 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.8, ease: \"easeOut\" }}\n        className=\"bg-gradient-to-r from-indigo-600 to-blue-600 text-white py-12 md:py-16 px-4 md:px-5 text-center shadow-lg relative\"\n      >\n        <motion.div\n          animate={{ scale: [1, 1.05, 1], opacity: [0.8, 1, 0.8] }}\n          transition={{ duration: 2, repeat: Infinity, ease: \"easeInOut\" }}\n          className=\"inline-block\"\n        >\n          <BookmarkIcon className=\"h-12 w-12 md:h-16 md:w-16 mx-auto mb-4 text-yellow-300\" />\n        </motion.div>\n        <h1 className=\"text-4xl md:text-6xl font-extrabold tracking-tight mb-4\">\n          Your <span className=\"text-yellow-300\">Bookmarks</span>\n        </h1>\n        <p className=\"text-base md:text-xl max-w-xl mx-auto opacity-90\">\n          Revisit your favorite blogs, debates, and discussions anytime.\n        </p>\n      </motion.div>\n\n      {/* Main Content */}\n      <div className=\"p-4 md:p-10 max-w-6xl mx-auto\">\n        {loading ? (\n          <div className=\"text-center\">\n            <motion.div\n              animate={{ rotate: 360 }}\n              transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n              className=\"inline-block h-6 w-6 md:h-8 md:w-8 border-4 border-indigo-500 border-t-transparent rounded-full\"\n            />\n            <p className=\"text-gray-600 mt-2 text-sm md:text-base\">Loading bookmarks...</p>\n          </div>\n        ) : error ? (\n          <motion.p\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ duration: 0.5 }}\n            className=\"text-center text-red-500 text-base md:text-lg\"\n          >\n            {error}\n          </motion.p>\n        ) : bookmarks.length === 0 ? (\n          <motion.p\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ duration: 0.5 }}\n            className=\"text-center text-gray-500 text-base md:text-lg\"\n          >\n            You haven't bookmarked any posts yet.\n          </motion.p>\n        ) : (\n          <motion.div\n            initial={{ opacity: 0 }}\n            animate={{ opacity: 1 }}\n            transition={{ duration: 0.5, delay: 0.4 }}\n            className=\"grid gap-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3\"\n          >\n            {bookmarks.map((item) => (\n              <motion.div\n                key={item._id}\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ duration: 0.5 }}\n                whileHover={{ scale: 1.03, transition: { duration: 0.2 } }}\n                className=\"relative group bg-white rounded-xl shadow-lg overflow-hidden transition-all duration-300 hover:shadow-xl cursor-pointer\"\n                onClick={() => handleNavigate(item)}\n              >\n                <div className=\"absolute inset-0 bg-gradient-to-t from-indigo-500/80 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300\" />\n                <div className=\"p-6 relative z-10\">\n                  <h2 className=\"text-xl md:text-2xl font-semibold text-gray-800 group-hover:text-white transition-colors duration-300 mb-2\">\n                    {item.title || \"Untitled\"}\n                  </h2>\n                  <p className=\"text-gray-600 group-hover:text-gray-200 text-sm md:text-base mb-3\">\n                    {(item.description || item.openingArgument || item.content || \"No preview available\").substring(0, 80)}...\n                  </p>\n                  <div className=\"flex justify-between items-center\">\n                    <span className=\"text-xs md:text-sm text-indigo-500 group-hover:text-yellow-300 font-medium transition-colors duration-300 capitalize\">\n                      {item.type}\n                    </span>\n                    <span className=\"text-xs md:text-sm text-gray-500 group-hover:text-gray-300 transition-colors duration-300\">\n                      By: {item.author?.username || \"Unknown\"}\n                    </span>\n                  </div>\n                  <p className=\"text-xs md:text-sm text-gray-500 group-hover:text-gray-300 mt-2 transition-colors duration-300\">\n                    Views: {item.views || 0}\n                  </p>\n                </div>\n              </motion.div>\n            ))}\n          </motion.div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Bookmarks;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}