{"ast":null,"code":"import React,{useEffect,useState,useCallback}from\"react\";import{useParams,useNavigate,useLocation,Link}from\"react-router-dom\";import API from\"../api/axiosInstance\";import{UserRemoveIcon,CogIcon,PencilIcon,CameraIcon,LockClosedIcon}from\"@heroicons/react/outline\";import{motion}from\"framer-motion\";// const BACKEND_BASE_URL = \"http://0.0.0.0:5001\";\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_BASE_URL=API.defaults.baseURL.replace(\"/api\",\"\");function getToken(){const token=localStorage.getItem(\"token\");return token;}const ProfilePage=()=>{var _user$followers,_user$followings,_user$followers2,_user$followings2;const{username}=useParams();const navigate=useNavigate();const location=useLocation();const queryParams=new URLSearchParams(location.search);const initialTab=queryParams.get(\"section\")||\"debate\";const[user,setUser]=useState(null);const[currentUser,setCurrentUser]=useState(null);const[createdDebates,setCreatedDebates]=useState([]);const[createdBlogs,setCreatedBlogs]=useState([]);const[createdDiscussions,setCreatedDiscussions]=useState([]);const[profileError,setProfileError]=useState(\"\");const[isFollowing,setIsFollowing]=useState(false);const[isFollower,setIsFollower]=useState(false);const[activeTab,setActiveTab]=useState(initialTab);const[showFollowers,setShowFollowers]=useState(false);const[showFollowing,setShowFollowing]=useState(false);const[showSettingsMenu,setShowSettingsMenu]=useState(false);const[showChangeBioModal,setShowChangeBioModal]=useState(false);const[showChangePasswordModal,setShowChangePasswordModal]=useState(false);const[showChangeProfilePictureModal,setShowChangeProfilePictureModal]=useState(false);const[newBio,setNewBio]=useState(\"\");const[oldPassword,setOldPassword]=useState(\"\");const[newPassword,setNewPassword]=useState(\"\");const[newProfilePicture,setNewProfilePicture]=useState(null);const[loading,setLoading]=useState(true);const[showDeleteMenu,setShowDeleteMenu]=useState(null);const token=getToken();useEffect(()=>{const queryParams=new URLSearchParams(location.search);const validTabs=[\"debate\",\"discussion\",\"blogs\"];const newTab=validTabs.includes(activeTab)?activeTab:\"debate\";if(newTab!==queryParams.get(\"section\")){const searchParams=new URLSearchParams(location.search);searchParams.set(\"section\",newTab);navigate(`${location.pathname}?${searchParams.toString()}`,{replace:true});}},[activeTab,navigate,location.pathname,location.search]);const fetchCurrentUser=useCallback(async()=>{if(!token)return null;try{const res=await API.get(\"/users/profile/me\",{headers:{Authorization:`Bearer ${token}`}});return res.data;}catch(err){console.error(\"Error fetching current user:\",err);return null;}},[token]);const fetchProfile=useCallback(async()=>{try{const res=await API.get(`/users/profile/${username}`,{headers:{Authorization:`Bearer ${token}`}});return res.data;}catch(err){throw err;}},[username,token]);const fetchCreatedDebates=useCallback(async()=>{try{const res=await API.get(`/users/profile/${username}/debates`,{headers:{Authorization:`Bearer ${token}`}});return res.data.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));}catch(err){throw err;}},[username,token]);const fetchCreatedBlogs=useCallback(async()=>{try{const res=await API.get(`/users/profile/${username}/blogs`,{headers:{Authorization:`Bearer ${token}`}});return res.data.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));}catch(err){throw err;}},[username,token]);const fetchCreatedDiscussions=useCallback(async()=>{try{const res=await API.get(`/users/profile/${username}/discussions`,{headers:{Authorization:`Bearer ${token}`}});return res.data.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt));}catch(err){throw err;}},[username,token]);const fetchAllData=useCallback(async()=>{setLoading(true);setUser(null);setCreatedDebates([]);setCreatedBlogs([]);setCreatedDiscussions([]);setProfileError(\"\");try{const[currentUserData,userData,debatesData,blogsData,discussionsData]=await Promise.all([fetchCurrentUser(),fetchProfile(),fetchCreatedDebates(),fetchCreatedBlogs(),fetchCreatedDiscussions()]);setCurrentUser(currentUserData);setUser(userData);setCreatedDebates(debatesData);setCreatedBlogs(blogsData);setCreatedDiscussions(discussionsData);setNewBio(userData.bio||\"\");const followers=Array.isArray(userData.followers)?userData.followers:[];const followings=Array.isArray(userData.followings)?userData.followings:[];if(currentUserData){setIsFollowing(followers.some(f=>String(f._id)===String(currentUserData._id)));setIsFollower(followings.some(f=>String(f._id)===String(currentUserData._id)));}}catch(err){var _err$response,_err$response$data;console.error(\"Error fetching data:\",err);setProfileError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.message)||\"Error fetching profile data\");}finally{setLoading(false);}},[fetchCurrentUser,fetchProfile,fetchCreatedDebates,fetchCreatedBlogs,fetchCreatedDiscussions]);useEffect(()=>{fetchAllData();},[username,fetchAllData]);useEffect(()=>{const intervalId=setInterval(async()=>{try{const{data}=await API.get(`/users/profile/${username}`,{headers:{Authorization:`Bearer ${token}`}});const newUser=data;setUser(prevUser=>{if(!prevUser)return newUser;const prevFollowers=Array.isArray(prevUser.followers)?prevUser.followers:[];const prevFollowings=Array.isArray(prevUser.followings)?prevUser.followings:[];const newFollowers=Array.isArray(newUser.followers)?newUser.followers:[];const newFollowings=Array.isArray(newUser.followings)?newUser.followings:[];if(JSON.stringify(prevFollowers)!==JSON.stringify(newFollowers)||JSON.stringify(prevFollowings)!==JSON.stringify(newFollowings)){setIsFollowing(newFollowers.some(f=>String(f._id)===String(currentUser===null||currentUser===void 0?void 0:currentUser._id)));setIsFollower(newFollowings.some(f=>String(f._id)===String(currentUser===null||currentUser===void 0?void 0:currentUser._id)));return{...prevUser,followers:newFollowers,followings:newFollowings};}return prevUser;});}catch(error){console.error(\"Error polling profile:\",error);}},5000);return()=>clearInterval(intervalId);},[username,token,currentUser]);const handleDeleteDebate=async debateId=>{try{await API.delete(`/debates/${debateId}`,{headers:{Authorization:`Bearer ${token}`}});setCreatedDebates(createdDebates.filter(deb=>deb._id!==debateId));setShowDeleteMenu(null);}catch(err){var _err$response2,_err$response2$data;setProfileError(((_err$response2=err.response)===null||_err$response2===void 0?void 0:(_err$response2$data=_err$response2.data)===null||_err$response2$data===void 0?void 0:_err$response2$data.message)||\"Error deleting debate\");}};const handleDeleteDiscussion=async discussionId=>{try{await API.delete(`/discussions/${discussionId}`,{headers:{Authorization:`Bearer ${token}`}});setCreatedDiscussions(createdDiscussions.filter(disc=>disc._id!==discussionId));setShowDeleteMenu(null);}catch(err){var _err$response3,_err$response3$data;setProfileError(((_err$response3=err.response)===null||_err$response3===void 0?void 0:(_err$response3$data=_err$response3.data)===null||_err$response3$data===void 0?void 0:_err$response3$data.message)||\"Error deleting discussion\");}};const handleDeleteBlog=async blogId=>{try{await API.delete(`/blogs/${blogId}`,{headers:{Authorization:`Bearer ${token}`}});setCreatedBlogs(createdBlogs.filter(blog=>blog._id!==blogId));setShowDeleteMenu(null);}catch(err){var _err$response4,_err$response4$data;setProfileError(((_err$response4=err.response)===null||_err$response4===void 0?void 0:(_err$response4$data=_err$response4.data)===null||_err$response4$data===void 0?void 0:_err$response4$data.message)||\"Error deleting blog\");}};const handleChangeBio=async()=>{if(newBio.length>100){setProfileError(\"Bio cannot exceed 100 characters.\");return;}try{if(!token)throw new Error(\"No authentication token found\");await API.put(\"/users/profile/update-bio\",{bio:newBio},{headers:{Authorization:`Bearer ${token}`}});setShowChangeBioModal(false);fetchAllData();}catch(err){var _err$response5,_err$response5$data;setProfileError(((_err$response5=err.response)===null||_err$response5===void 0?void 0:(_err$response5$data=_err$response5.data)===null||_err$response5$data===void 0?void 0:_err$response5$data.message)||\"Error updating bio\");}};const handleChangePassword=async()=>{try{console.log(\"Changing password with:\",{oldPassword,newPassword});if(!oldPassword||!newPassword){setProfileError(\"Please provide old and new passwords\");return;}await API.put(\"/auth/profile/change-password\",{oldPassword,newPassword},{headers:{Authorization:`Bearer ${token}`}});setShowChangePasswordModal(false);setOldPassword(\"\");setNewPassword(\"\");setProfileError(\"\");alert(\"Password changed successfully\");}catch(err){var _err$response6,_err$response7,_err$response7$data;console.error(\"Password change error:\",(_err$response6=err.response)===null||_err$response6===void 0?void 0:_err$response6.data);setProfileError(((_err$response7=err.response)===null||_err$response7===void 0?void 0:(_err$response7$data=_err$response7.data)===null||_err$response7$data===void 0?void 0:_err$response7$data.message)||\"Error changing password\");}};const handleChangeProfilePicture=async()=>{if(!newProfilePicture){setProfileError(\"Please select a file to upload.\");return;}const formData=new FormData();formData.append(\"profilePicture\",newProfilePicture);try{await API.put(\"/users/profile/update-profile-picture\",formData,{headers:{Authorization:`Bearer ${token}`,\"Content-Type\":\"multipart/form-data\"}});setShowChangeProfilePictureModal(false);setNewProfilePicture(null);fetchAllData();}catch(err){var _err$response8,_err$response8$data;setProfileError(((_err$response8=err.response)===null||_err$response8===void 0?void 0:(_err$response8$data=_err$response8.data)===null||_err$response8$data===void 0?void 0:_err$response8$data.message)||\"Error updating profile picture\");}};const handleLogOut=()=>{localStorage.removeItem(\"token\");navigate(\"/login\");};const handleFollow=async()=>{if(!token){alert(\"You must be logged in to follow or unfollow!\");return navigate(\"/login\");}try{if(isFollowing){await API.post(`/users/profile/${username}/unfollow`,{},{headers:{Authorization:`Bearer ${token}`}});setIsFollowing(false);setUser(prevUser=>({...prevUser,followers:prevUser.followers.filter(f=>f._id!==currentUser._id)}));}else{await API.post(`/users/profile/${username}/follow`,{},{headers:{Authorization:`Bearer ${token}`}});setIsFollowing(true);setUser(prevUser=>({...prevUser,followers:[...prevUser.followers,currentUser]}));}}catch(err){var _err$response9,_err$response9$data;setProfileError(((_err$response9=err.response)===null||_err$response9===void 0?void 0:(_err$response9$data=_err$response9.data)===null||_err$response9$data===void 0?void 0:_err$response9$data.message)||\"Error following/unfollowing\");}};const handleDebateClick=debateId=>navigate(`/debatepage/${debateId}`,{state:{activeTab:\"debate\",fromProfile:username}});const handleDiscussionClick=discussionId=>navigate(`/discussionpage/${discussionId}`,{state:{activeTab:\"discussion\",fromProfile:username}});const handleBlogClick=blogId=>navigate(`/blogpage/${blogId}`,{state:{activeTab:\"blogs\",fromProfile:username}});const handleProfileClick=username=>{setShowFollowers(false);setShowFollowing(false);navigate(`/profile/${username}?section=${activeTab}`);};const isOwnProfile=currentUser&&user&&currentUser._id===user._id;const totalPosts=(createdDebates.length||0)+(createdDiscussions.length||0)+(createdBlogs.length||0);const followButtonText=isFollowing?\"Unfollow\":isFollower?\"Follow Back\":\"Follow\";if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 md:ml-64 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-xl text-gray-800 animate-pulse\",children:\"Loading profile...\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 md:ml-64 text-gray-800\",children:[profileError&&/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-6 mt-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 text-red-800 p-4 rounded-lg shadow-lg animate-fade-in\",children:profileError})}),/*#__PURE__*/_jsx(\"header\",{className:\"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-12 shadow-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-4xl mx-auto px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center md:flex-row md:items-start md:justify-center gap-8\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative group\",children:[/*#__PURE__*/_jsx(\"img\",{src:user!==null&&user!==void 0&&user.profilePicture?`${BACKEND_BASE_URL}${user.profilePicture}`:`${BACKEND_BASE_URL}/images/default-avatar.png`,alt:\"profile\",className:\"w-40 h-40 rounded-full object-cover border-4 border-white bg-gradient-to-r from-yellow-400 to-pink-500 p-1 group-hover:scale-110 transition-transform duration-300 shadow-xl transform hover:rotate-3\",onError:e=>e.target.src=`${BACKEND_BASE_URL}/images/default-avatar.png`}),isOwnProfile&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowChangeProfilePictureModal(true),className:\"absolute bottom-2 right-2 p-2 bg-white text-blue-600 rounded-full hover:bg-gray-100 transition-colors duration-200 shadow-md\",children:/*#__PURE__*/_jsx(CameraIcon,{className:\"h-6 w-6\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-center md:text-left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center md:justify-start mb-4\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-extrabold text-white drop-shadow-md\",children:(user===null||user===void 0?void 0:user.username)||\"Loading...\"}),isOwnProfile?/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowSettingsMenu(!showSettingsMenu),className:\"ml-4 p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200\",children:/*#__PURE__*/_jsx(CogIcon,{className:\"h-6 w-6 text-white\"})}):/*#__PURE__*/_jsx(\"div\",{className:\"ml-4 flex space-x-3\",children:/*#__PURE__*/_jsx(\"button\",{onClick:handleFollow,className:`px-5 py-2 rounded-full text-white font-semibold shadow-md ${isFollowing?\"bg-gray-500 hover:bg-gray-600\":\"bg-blue-500 hover:bg-blue-600\"} transition-all duration-200 transform hover:scale-105`,children:followButtonText})})]}),showSettingsMenu&&isOwnProfile&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute mt-2 w-56 bg-white rounded-xl shadow-xl z-10 border border-gray-200 animate-fade-in\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"py-2\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-3 hover:bg-gray-100 cursor-pointer flex items-center text-gray-800\",onClick:()=>{setShowChangeBioModal(true);setShowSettingsMenu(false);},children:[/*#__PURE__*/_jsx(PencilIcon,{className:\"h-5 w-5 mr-2\"}),\"Change Bio\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-3 hover:bg-gray-100 cursor-pointer flex items-center text-gray-800\",onClick:()=>{setShowChangePasswordModal(true);setShowSettingsMenu(false);},children:[/*#__PURE__*/_jsx(LockClosedIcon,{className:\"h-5 w-5 mr-2\"}),\"Change Password\"]}),/*#__PURE__*/_jsxs(\"li\",{className:\"px-4 py-3 hover:bg-gray-100 cursor-pointer flex items-center text-gray-800\",onClick:handleLogOut,children:[/*#__PURE__*/_jsx(UserRemoveIcon,{className:\"h-5 w-5 mr-2\"}),\"Log Out\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center md:justify-start space-x-10 mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center group cursor-pointer hover:text-yellow-300 transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-xl group-hover:scale-110 transition-transform duration-200\",children:totalPosts}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-200 ml-2\",children:\"Posts\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setShowFollowers(true),className:\"flex items-center group cursor-pointer hover:text-yellow-300 transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-xl group-hover:scale-110 transition-transform duration-200\",children:(user===null||user===void 0?void 0:(_user$followers=user.followers)===null||_user$followers===void 0?void 0:_user$followers.length)||0}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-200 ml-2\",children:\"Followers\"})]}),/*#__PURE__*/_jsxs(\"div\",{onClick:()=>setShowFollowing(true),className:\"flex items-center group cursor-pointer hover:text-yellow-300 transition-all duration-200\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-xl group-hover:scale-110 transition-transform duration-200\",children:(user===null||user===void 0?void 0:(_user$followings=user.followings)===null||_user$followings===void 0?void 0:_user$followings.length)||0}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-200 ml-2\",children:\"Following\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-100 italic bg-white bg-opacity-10 p-3 rounded-lg shadow-inner text-center max-w-md mx-auto max-h-24 overflow-y-auto\",children:(user===null||user===void 0?void 0:user.bio)||\"No bio yet.\"})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-4xl mx-auto px-6 py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center space-x-10 border-b border-gray-200 pb-4 bg-white rounded-t-xl shadow-md\",children:[\"debate\",\"discussion\",\"blogs\"].map(tab=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveTab(tab),className:`relative px-6 py-2 text-sm font-semibold uppercase ${activeTab===tab?\"text-blue-600\":\"text-gray-600 hover:text-gray-800\"} transition-all duration-300 ease-in-out`,children:[tab,activeTab===tab&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute bottom-0 left-0 w-full h-1 bg-blue-600 rounded-t-full transform scale-x-100 transition-transform duration-300 ease-in-out\"})]},tab))}),/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 bg-white p-6 rounded-b-xl shadow-md\",children:[isOwnProfile&&/*#__PURE__*/_jsxs(\"div\",{className:\"col-span-full flex justify-end mb-4\",children:[activeTab===\"debate\"&&/*#__PURE__*/_jsx(Link,{to:\"/createDebate\",className:\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200 shadow-md\",children:\"Create Debate\"}),activeTab===\"discussion\"&&/*#__PURE__*/_jsx(Link,{to:\"/createDiscussion\",className:\"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md\",children:\"Create Discussion\"}),activeTab===\"blogs\"&&/*#__PURE__*/_jsx(Link,{to:\"/createBlog\",className:\"bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600 transition-all duration-200 shadow-md\",children:\"Create Blog\"})]}),activeTab===\"debate\"&&(createdDebates.length>0?createdDebates.map(deb=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg relative h-32 overflow-hidden\",onClick:e=>{if(!e.target.closest(\".delete-menu-button\")&&!e.target.closest(\".delete-menu\")){handleDebateClick(deb._id);}},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:deb.title||\"Untitled Debate\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-xs mt-1 line-clamp-3\",children:deb.openingArgument||\"No opening argument\"})]}),isOwnProfile&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-menu-button p-1 hover:bg-gray-200 rounded-full\",onClick:e=>{e.stopPropagation();setShowDeleteMenu(showDeleteMenu===deb._id?null:deb._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 text-lg leading-none\",children:\"\\u22EF\"})}),showDeleteMenu===deb._id&&/*#__PURE__*/_jsx(\"div\",{className:\"delete-menu absolute right-0 mt-1 w-32 bg-white rounded-lg shadow-xl z-10 border border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 text-left\",onClick:e=>{e.stopPropagation();handleDeleteDebate(deb._id);},children:\"Delete\"})})]})]})},deb._id)):/*#__PURE__*/_jsx(\"p\",{className:\"col-span-3 text-center text-gray-500\",children:\"No debates created yet.\"})),activeTab===\"discussion\"&&(createdDiscussions.length>0?createdDiscussions.map(disc=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-gray-50 to-purple-50 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg relative h-32 overflow-hidden\",onClick:e=>{if(!e.target.closest(\".delete-menu-button\")&&!e.target.closest(\".delete-menu\")){handleDiscussionClick(disc._id);}},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start h-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-hidden\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:disc.title||\"Untitled Discussion\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-xs mt-1 line-clamp-3\",children:disc.description||\"No description\"})]}),isOwnProfile&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-menu-button p-1 hover:bg-gray-200 rounded-full\",onClick:e=>{e.stopPropagation();setShowDeleteMenu(showDeleteMenu===disc._id?null:disc._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 text-lg leading-none\",children:\"\\u22EF\"})}),showDeleteMenu===disc._id&&/*#__PURE__*/_jsx(\"div\",{className:\"delete-menu absolute right-0 mt-1 w-32 bg-white rounded-lg shadow-xl z-10 border border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 text-left\",onClick:e=>{e.stopPropagation();handleDeleteDiscussion(disc._id);},children:\"Delete\"})})]})]})},disc._id)):/*#__PURE__*/_jsx(\"p\",{className:\"col-span-3 text-center text-gray-500\",children:\"No discussions created yet.\"})),activeTab===\"blogs\"&&(createdBlogs.length>0?createdBlogs.map(blog=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-br from-gray-50 to-pink-50 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg relative h-48 overflow-hidden\",onClick:e=>{if(!e.target.closest(\".delete-menu-button\")&&!e.target.closest(\".delete-menu\")){handleBlogClick(blog._id);}},children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-start h-full flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 w-full overflow-hidden\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-semibold text-gray-900 truncate\",children:blog.title||\"Untitled Blog\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-xs mt-1 line-clamp-2\",children:blog.content||\"No content\"})]}),blog.fileUrl&&blog.fileUrl.match(/\\.(jpeg|jpg|png)$/i)&&/*#__PURE__*/_jsx(\"img\",{src:`${BACKEND_BASE_URL}${blog.fileUrl}`,alt:\"Blog media\",className:\"w-full h-20 object-cover rounded-lg mt-2 hover:opacity-90 transition -opacity duration-200 shadow-sm\"}),isOwnProfile&&/*#__PURE__*/_jsxs(\"div\",{className:\"relative self-end mt-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"delete-menu-button p-1 hover:bg-gray-200 rounded-full\",onClick:e=>{e.stopPropagation();setShowDeleteMenu(showDeleteMenu===blog._id?null:blog._id);},children:/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600 text-lg leading-none\",children:\"\\u22EF\"})}),showDeleteMenu===blog._id&&/*#__PURE__*/_jsx(\"div\",{className:\"delete-menu absolute bottom-5 right-3 mt-0 w-32 bg-white rounded-lg shadow-xl z-10 border border-gray-200\",children:/*#__PURE__*/_jsx(\"button\",{className:\"w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 text-left\",onClick:e=>{e.stopPropagation();handleDeleteBlog(blog._id);},children:\"Delete\"})})]})]})},blog._id)):/*#__PURE__*/_jsx(\"p\",{className:\"col-span-3 text-center text-gray-500\",children:\"No blogs yet.\"}))]},activeTab)]}),showFollowers&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-y-auto animate-fade-in border-t-4 border-blue-500\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6 text-center\",children:\"Followers\"}),(user===null||user===void 0?void 0:(_user$followers2=user.followers)===null||_user$followers2===void 0?void 0:_user$followers2.length)>0?/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4\",children:user.followers.map(follower=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-all duration-200 shadow-sm\",onClick:()=>handleProfileClick(follower.username),children:[/*#__PURE__*/_jsx(\"img\",{src:follower.profilePicture?`${BACKEND_BASE_URL}${follower.profilePicture}`:`${BACKEND_BASE_URL}/images/default-avatar.png`,alt:follower.username,className:\"w-12 h-12 rounded-full border-2 border-blue-300 shadow-sm\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-900\",children:follower.username})]},follower._id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"No followers yet.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFollowers(false),className:\"mt-6 w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200 shadow-md\",children:\"Close\"})]})}),showFollowing&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-y-auto animate-fade-in border-t-4 border-purple-500\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6 text-center\",children:\"Following\"}),(user===null||user===void 0?void 0:(_user$followings2=user.followings)===null||_user$followings2===void 0?void 0:_user$followings2.length)>0?/*#__PURE__*/_jsx(\"ul\",{className:\"space-y-4\",children:user.followings.map(following=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-all duration-200 shadow-sm\",onClick:()=>handleProfileClick(following.username),children:[/*#__PURE__*/_jsx(\"img\",{src:following.profilePicture?`${BACKEND_BASE_URL}${following.profilePicture}`:`${BACKEND_BASE_URL}/images/default-avatar.png`,alt:following.username,className:\"w-12 h-12 rounded-full border-2 border-purple-300 shadow-sm\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-semibold text-gray-900\",children:following.username})]},following._id))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center text-gray-500\",children:\"Not following anyone yet.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowFollowing(false),className:\"mt-6 w-full bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md\",children:\"Close\"})]})}),showChangeBioModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full animate-fade-in border-t-4 border-blue-500\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6 text-center\",children:\"Change Bio\"}),/*#__PURE__*/_jsx(\"textarea\",{value:newBio,onChange:e=>setNewBio(e.target.value),className:\"w-full p-4 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 shadow-sm\",rows:\"4\",placeholder:\"Enter your new bio...\",maxLength:100}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-1\",children:[newBio.length,\"/100 characters\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleChangeBio,className:\"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200 shadow-md transform hover:scale-105\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowChangeBioModal(false),className:\"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-all duration-200 shadow-md\",children:\"Cancel\"})]})]})}),showChangePasswordModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full animate-fade-in border-t-4 border-purple-500\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6 text-center\",children:\"Change Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:oldPassword,onChange:e=>setOldPassword(e.target.value),placeholder:\"Old Password\",className:\"w-full p-4 mb-4 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 shadow-sm\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:newPassword,onChange:e=>setNewPassword(e.target.value),placeholder:\"New Password\",className:\"w-full p-4 mb-4 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 shadow-sm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleChangePassword,className:\"flex-1 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md transform hover:scale-105\",children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowChangePasswordModal(false);setOldPassword(\"\");setNewPassword(\"\");setProfileError(\"\");},className:\"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-all duration-200 shadow-md\",children:\"Cancel\"})]})]})}),showChangeProfilePictureModal&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full animate-fade-in border-t-4 border-purple-500\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-gray-900 mb-6 text-center\",children:\"Change Profile Picture\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:e=>setNewProfilePicture(e.target.files[0]),className:\"w-full p-3 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all duration-200 shadow-sm\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleChangeProfilePicture,className:\"flex-1 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md transform hover:scale-105\",children:\"Upload\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowChangeProfilePictureModal(false),className:\"flex-1 bg-gray- 200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-all duration-200 shadow-md\",children:\"Cancel\"})]})]})})]});};export default ProfilePage;","map":{"version":3,"names":["React","useEffect","useState","useCallback","useParams","useNavigate","useLocation","Link","API","UserRemoveIcon","CogIcon","PencilIcon","CameraIcon","LockClosedIcon","motion","jsx","_jsx","jsxs","_jsxs","BACKEND_BASE_URL","defaults","baseURL","replace","getToken","token","localStorage","getItem","ProfilePage","_user$followers","_user$followings","_user$followers2","_user$followings2","username","navigate","location","queryParams","URLSearchParams","search","initialTab","get","user","setUser","currentUser","setCurrentUser","createdDebates","setCreatedDebates","createdBlogs","setCreatedBlogs","createdDiscussions","setCreatedDiscussions","profileError","setProfileError","isFollowing","setIsFollowing","isFollower","setIsFollower","activeTab","setActiveTab","showFollowers","setShowFollowers","showFollowing","setShowFollowing","showSettingsMenu","setShowSettingsMenu","showChangeBioModal","setShowChangeBioModal","showChangePasswordModal","setShowChangePasswordModal","showChangeProfilePictureModal","setShowChangeProfilePictureModal","newBio","setNewBio","oldPassword","setOldPassword","newPassword","setNewPassword","newProfilePicture","setNewProfilePicture","loading","setLoading","showDeleteMenu","setShowDeleteMenu","validTabs","newTab","includes","searchParams","set","pathname","toString","fetchCurrentUser","res","headers","Authorization","data","err","console","error","fetchProfile","fetchCreatedDebates","sort","a","b","Date","createdAt","fetchCreatedBlogs","fetchCreatedDiscussions","fetchAllData","currentUserData","userData","debatesData","blogsData","discussionsData","Promise","all","bio","followers","Array","isArray","followings","some","f","String","_id","_err$response","_err$response$data","response","message","intervalId","setInterval","newUser","prevUser","prevFollowers","prevFollowings","newFollowers","newFollowings","JSON","stringify","clearInterval","handleDeleteDebate","debateId","delete","filter","deb","_err$response2","_err$response2$data","handleDeleteDiscussion","discussionId","disc","_err$response3","_err$response3$data","handleDeleteBlog","blogId","blog","_err$response4","_err$response4$data","handleChangeBio","length","Error","put","_err$response5","_err$response5$data","handleChangePassword","log","alert","_err$response6","_err$response7","_err$response7$data","handleChangeProfilePicture","formData","FormData","append","_err$response8","_err$response8$data","handleLogOut","removeItem","handleFollow","post","_err$response9","_err$response9$data","handleDebateClick","state","fromProfile","handleDiscussionClick","handleBlogClick","handleProfileClick","isOwnProfile","totalPosts","followButtonText","className","children","src","profilePicture","alt","onError","e","target","onClick","map","tab","div","initial","opacity","y","animate","transition","duration","to","closest","title","openingArgument","stopPropagation","description","content","fileUrl","match","follower","following","value","onChange","rows","placeholder","maxLength","type","accept","files"],"sources":["/Users/govindsinghtanwar/coding/Projects/debatify/frontend/src/pages/ProfilePage.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\nimport { useParams, useNavigate, useLocation, Link } from \"react-router-dom\";\nimport API from \"../api/axiosInstance\";\nimport { UserRemoveIcon, CogIcon, PencilIcon, CameraIcon, LockClosedIcon } from \"@heroicons/react/outline\";\nimport { motion } from \"framer-motion\";\n\n// const BACKEND_BASE_URL = \"http://0.0.0.0:5001\";\nconst BACKEND_BASE_URL = API.defaults.baseURL.replace(\"/api\", \"\");\n\nfunction getToken() {\n const token = localStorage.getItem(\"token\");\n return token;\n}\n\nconst ProfilePage = () => {\n const { username } = useParams();\n const navigate = useNavigate();\n const location = useLocation();\n\n const queryParams = new URLSearchParams(location.search);\n const initialTab = queryParams.get(\"section\") || \"debate\";\n\n const [user, setUser] = useState(null);\n const [currentUser, setCurrentUser] = useState(null);\n const [createdDebates, setCreatedDebates] = useState([]);\n const [createdBlogs, setCreatedBlogs] = useState([]);\n const [createdDiscussions, setCreatedDiscussions] = useState([]);\n const [profileError, setProfileError] = useState(\"\");\n const [isFollowing, setIsFollowing] = useState(false);\n const [isFollower, setIsFollower] = useState(false);\n const [activeTab, setActiveTab] = useState(initialTab);\n const [showFollowers, setShowFollowers] = useState(false);\n const [showFollowing, setShowFollowing] = useState(false);\n const [showSettingsMenu, setShowSettingsMenu] = useState(false);\n const [showChangeBioModal, setShowChangeBioModal] = useState(false);\n const [showChangePasswordModal, setShowChangePasswordModal] = useState(false);\n const [showChangeProfilePictureModal, setShowChangeProfilePictureModal] = useState(false);\n const [newBio, setNewBio] = useState(\"\");\n const [oldPassword, setOldPassword] = useState(\"\");\n const [newPassword, setNewPassword] = useState(\"\");\n const [newProfilePicture, setNewProfilePicture] = useState(null);\n const [loading, setLoading] = useState(true);\n const [showDeleteMenu, setShowDeleteMenu] = useState(null);\n\n const token = getToken();\n\n useEffect(() => {\n const queryParams = new URLSearchParams(location.search);\n const validTabs = [\"debate\", \"discussion\", \"blogs\"];\n const newTab = validTabs.includes(activeTab) ? activeTab : \"debate\";\n if (newTab !== queryParams.get(\"section\")) {\n const searchParams = new URLSearchParams(location.search);\n searchParams.set(\"section\", newTab);\n navigate(`${location.pathname}?${searchParams.toString()}`, { replace: true });\n }\n }, [activeTab, navigate, location.pathname, location.search]);\n\n const fetchCurrentUser = useCallback(async () => {\n if (!token) return null;\n try {\n const res = await API.get(\"/users/profile/me\", { headers: { Authorization: `Bearer ${token}` } });\n return res.data;\n } catch (err) {\n console.error(\"Error fetching current user:\", err);\n return null;\n }\n }, [token]);\n\n const fetchProfile = useCallback(async () => {\n try {\n const res = await API.get(`/users/profile/${username}`, { headers: { Authorization: `Bearer ${token}` } });\n return res.data;\n } catch (err) {\n throw err;\n }\n }, [username, token]);\n\n const fetchCreatedDebates = useCallback(async () => {\n try {\n const res = await API.get(`/users/profile/${username}/debates`, { headers: { Authorization: `Bearer ${token}` } });\n return res.data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n } catch (err) {\n throw err;\n }\n }, [username, token]);\n\n const fetchCreatedBlogs = useCallback(async () => {\n try {\n const res = await API.get(`/users/profile/${username}/blogs`, { headers: { Authorization: `Bearer ${token}` } });\n return res.data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n } catch (err) {\n throw err;\n }\n }, [username, token]);\n\n const fetchCreatedDiscussions = useCallback(async () => {\n try {\n const res = await API.get(`/users/profile/${username}/discussions`, { headers: { Authorization: `Bearer ${token}` } });\n return res.data.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n } catch (err) {\n throw err;\n }\n }, [username, token]);\n\n const fetchAllData = useCallback(async () => {\n setLoading(true);\n setUser(null);\n setCreatedDebates([]);\n setCreatedBlogs([]);\n setCreatedDiscussions([]);\n setProfileError(\"\");\n\n try {\n const [currentUserData, userData, debatesData, blogsData, discussionsData] = await Promise.all([\n fetchCurrentUser(),\n fetchProfile(),\n fetchCreatedDebates(),\n fetchCreatedBlogs(),\n fetchCreatedDiscussions(),\n ]);\n\n setCurrentUser(currentUserData);\n setUser(userData);\n setCreatedDebates(debatesData);\n setCreatedBlogs(blogsData);\n setCreatedDiscussions(discussionsData);\n setNewBio(userData.bio || \"\");\n\n const followers = Array.isArray(userData.followers) ? userData.followers : [];\n const followings = Array.isArray(userData.followings) ? userData.followings : [];\n if (currentUserData) {\n setIsFollowing(followers.some((f) => String(f._id) === String(currentUserData._id)));\n setIsFollower(followings.some((f) => String(f._id) === String(currentUserData._id)));\n }\n } catch (err) {\n console.error(\"Error fetching data:\", err);\n setProfileError(err.response?.data?.message || \"Error fetching profile data\");\n } finally {\n setLoading(false);\n }\n }, [fetchCurrentUser, fetchProfile, fetchCreatedDebates, fetchCreatedBlogs, fetchCreatedDiscussions]);\n\n useEffect(() => {\n fetchAllData();\n }, [username, fetchAllData]);\n\n useEffect(() => {\n const intervalId = setInterval(async () => {\n try {\n const { data } = await API.get(`/users/profile/${username}`, { headers: { Authorization: `Bearer ${token}` } });\n const newUser = data;\n\n setUser((prevUser) => {\n if (!prevUser) return newUser;\n\n const prevFollowers = Array.isArray(prevUser.followers) ? prevUser.followers : [];\n const prevFollowings = Array.isArray(prevUser.followings) ? prevUser.followings : [];\n const newFollowers = Array.isArray(newUser.followers) ? newUser.followers : [];\n const newFollowings = Array.isArray(newUser.followings) ? newUser.followings : [];\n\n if (\n JSON.stringify(prevFollowers) !== JSON.stringify(newFollowers) ||\n JSON.stringify(prevFollowings) !== JSON.stringify(newFollowings)\n ) {\n setIsFollowing(newFollowers.some((f) => String(f._id) === String(currentUser?._id)));\n setIsFollower(newFollowings.some((f) => String(f._id) === String(currentUser?._id)));\n return { ...prevUser, followers: newFollowers, followings: newFollowings };\n }\n return prevUser;\n });\n } catch (error) {\n console.error(\"Error polling profile:\", error);\n }\n }, 5000);\n\n return () => clearInterval(intervalId);\n }, [username, token, currentUser]);\n\n const handleDeleteDebate = async (debateId) => {\n try {\n await API.delete(`/debates/${debateId}`, { headers: { Authorization: `Bearer ${token}` } });\n setCreatedDebates(createdDebates.filter((deb) => deb._id !== debateId));\n setShowDeleteMenu(null);\n } catch (err) {\n setProfileError(err.response?.data?.message || \"Error deleting debate\");\n }\n };\n\n const handleDeleteDiscussion = async (discussionId) => {\n try {\n await API.delete(`/discussions/${discussionId}`, { headers: { Authorization: `Bearer ${token}` } });\n setCreatedDiscussions(createdDiscussions.filter((disc) => disc._id !== discussionId));\n setShowDeleteMenu(null);\n } catch (err) {\n setProfileError(err.response?.data?.message || \"Error deleting discussion\");\n }\n };\n\n const handleDeleteBlog = async (blogId) => {\n try {\n await API.delete(`/blogs/${blogId}`, { headers: { Authorization: `Bearer ${token}` } });\n setCreatedBlogs(createdBlogs.filter((blog) => blog._id !== blogId));\n setShowDeleteMenu(null);\n } catch (err) {\n setProfileError(err.response?.data?.message || \"Error deleting blog\");\n }\n };\n\n const handleChangeBio = async () => {\n if (newBio.length > 100) {\n setProfileError(\"Bio cannot exceed 100 characters.\");\n return;\n }\n try {\n if (!token) throw new Error(\"No authentication token found\");\n await API.put(\"/users/profile/update-bio\", { bio: newBio }, { headers: { Authorization: `Bearer ${token}` } });\n setShowChangeBioModal(false);\n fetchAllData();\n } catch (err) {\n setProfileError(err.response?.data?.message || \"Error updating bio\");\n }\n };\n\n const handleChangePassword = async () => {\n try {\n console.log(\"Changing password with:\", { oldPassword, newPassword });\n if (!oldPassword || !newPassword) {\n setProfileError(\"Please provide old and new passwords\");\n return;\n }\n await API.put(\"/auth/profile/change-password\", { oldPassword, newPassword }, {\n headers: { Authorization: `Bearer ${token}` }\n });\n setShowChangePasswordModal(false);\n setOldPassword(\"\");\n setNewPassword(\"\");\n setProfileError(\"\");\n alert(\"Password changed successfully\");\n } catch (err) {\n console.error(\"Password change error:\", err.response?.data);\n setProfileError(err.response?.data?.message || \"Error changing password\");\n }\n };\n\n const handleChangeProfilePicture = async () => {\n if (!newProfilePicture) {\n setProfileError(\"Please select a file to upload.\");\n return;\n }\n const formData = new FormData();\n formData.append(\"profilePicture\", newProfilePicture);\n try {\n await API.put(\"/users/profile/update-profile-picture\", formData, { \n headers: { \n Authorization: `Bearer ${token}`,\n \"Content-Type\": \"multipart/form-data\"\n } \n });\n setShowChangeProfilePictureModal(false);\n setNewProfilePicture(null);\n fetchAllData();\n } catch (err) {\n setProfileError(err.response?.data?.message || \"Error updating profile picture\");\n }\n };\n\n const handleLogOut = () => {\n localStorage.removeItem(\"token\");\n navigate(\"/login\");\n };\n\n const handleFollow = async () => {\n if (!token) {\n alert(\"You must be logged in to follow or unfollow!\");\n return navigate(\"/login\");\n }\n try {\n if (isFollowing) {\n await API.post(`/users/profile/${username}/unfollow`, {}, { headers: { Authorization: `Bearer ${token}` } });\n setIsFollowing(false);\n setUser((prevUser) => ({\n ...prevUser,\n followers: prevUser.followers.filter((f) => f._id !== currentUser._id),\n }));\n } else {\n await API.post(`/users/profile/${username}/follow`, {}, { headers: { Authorization: `Bearer ${token}` } });\n setIsFollowing(true);\n setUser((prevUser) => ({\n ...prevUser,\n followers: [...prevUser.followers, currentUser],\n }));\n }\n } catch (err) {\n setProfileError(err.response?.data?.message || \"Error following/unfollowing\");\n }\n };\n\n const handleDebateClick = (debateId) =>\n navigate(`/debatepage/${debateId}`, { state: { activeTab: \"debate\", fromProfile: username } });\n const handleDiscussionClick = (discussionId) =>\n navigate(`/discussionpage/${discussionId}`, { state: { activeTab: \"discussion\", fromProfile: username } });\n const handleBlogClick = (blogId) =>\n navigate(`/blogpage/${blogId}`, { state: { activeTab: \"blogs\", fromProfile: username } });\n\n const handleProfileClick = (username) => {\n setShowFollowers(false);\n setShowFollowing(false);\n navigate(`/profile/${username}?section=${activeTab}`);\n };\n\n const isOwnProfile = currentUser && user && currentUser._id === user._id;\n const totalPosts = (createdDebates.length || 0) + (createdDiscussions.length || 0) + (createdBlogs.length || 0);\n const followButtonText = isFollowing ? \"Unfollow\" : isFollower ? \"Follow Back\" : \"Follow\";\n\n if (loading) {\n return (\n <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 md:ml-64 flex items-center justify-center\">\n <span className=\"text-xl text-gray-800 animate-pulse\">Loading profile...</span>\n </div>\n );\n }\n\n return (\n <div className=\"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 md:ml-64 text-gray-800\">\n {profileError && (\n <div className=\"max-w-4xl mx-auto px-6 mt-6\">\n <div className=\"bg-red-100 text-red-800 p-4 rounded-lg shadow-lg animate-fade-in\">{profileError}</div>\n </div>\n )}\n\n <header className=\"bg-gradient-to-r from-blue-600 to-purple-600 text-white py-12 shadow-lg\">\n <div className=\"max-w-4xl mx-auto px-6\">\n <div className=\"flex flex-col items-center md:flex-row md:items-start md:justify-center gap-8\">\n <div className=\"relative group\">\n <img\n src={\n user?.profilePicture\n ? `${BACKEND_BASE_URL}${user.profilePicture}`\n : `${BACKEND_BASE_URL}/images/default-avatar.png`\n }\n alt=\"profile\"\n className=\"w-40 h-40 rounded-full object-cover border-4 border-white bg-gradient-to-r from-yellow-400 to-pink-500 p-1 group-hover:scale-110 transition-transform duration-300 shadow-xl transform hover:rotate-3\"\n onError={(e) => (e.target.src = `${BACKEND_BASE_URL}/images/default-avatar.png`)}\n />\n {isOwnProfile && (\n <button\n onClick={() => setShowChangeProfilePictureModal(true)}\n className=\"absolute bottom-2 right-2 p-2 bg-white text-blue-600 rounded-full hover:bg-gray-100 transition-colors duration-200 shadow-md\"\n >\n <CameraIcon className=\"h-6 w-6\" />\n </button>\n )}\n </div>\n <div className=\"text-center md:text-left\">\n <div className=\"flex items-center justify-center md:justify-start mb-4\">\n <h1 className=\"text-4xl font-extrabold text-white drop-shadow-md\">{user?.username || \"Loading...\"}</h1>\n {isOwnProfile ? (\n <button\n onClick={() => setShowSettingsMenu(!showSettingsMenu)}\n className=\"ml-4 p-2 bg-white bg-opacity-20 rounded-full hover:bg-opacity-30 transition-all duration-200\"\n >\n <CogIcon className=\"h-6 w-6 text-white\" />\n </button>\n ) : (\n <div className=\"ml-4 flex space-x-3\">\n <button\n onClick={handleFollow}\n className={`px-5 py-2 rounded-full text-white font-semibold shadow-md ${\n isFollowing ? \"bg-gray-500 hover:bg-gray-600\" : \"bg-blue-500 hover:bg-blue-600\"\n } transition-all duration-200 transform hover:scale-105`}\n >\n {followButtonText}\n </button>\n </div>\n )}\n </div>\n {showSettingsMenu && isOwnProfile && (\n <div className=\"absolute mt-2 w-56 bg-white rounded-xl shadow-xl z-10 border border-gray-200 animate-fade-in\">\n <ul className=\"py-2\">\n <li\n className=\"px-4 py-3 hover:bg-gray-100 cursor-pointer flex items-center text-gray-800\"\n onClick={() => {\n setShowChangeBioModal(true);\n setShowSettingsMenu(false);\n }}\n >\n <PencilIcon className=\"h-5 w-5 mr-2\" />\n Change Bio\n </li>\n <li\n className=\"px-4 py-3 hover:bg-gray-100 cursor-pointer flex items-center text-gray-800\"\n onClick={() => {\n setShowChangePasswordModal(true);\n setShowSettingsMenu(false);\n }}\n >\n <LockClosedIcon className=\"h-5 w-5 mr-2\" />\n Change Password\n </li>\n <li\n className=\"px-4 py-3 hover:bg-gray-100 cursor-pointer flex items-center text-gray-800\"\n onClick={handleLogOut}\n >\n <UserRemoveIcon className=\"h-5 w-5 mr-2\" />\n Log Out\n </li>\n </ul>\n </div>\n )}\n <div className=\"flex justify-center md:justify-start space-x-10 mb-6\">\n <div className=\"flex items-center group cursor-pointer hover:text-yellow-300 transition-all duration-200\">\n <span className=\"font-semibold text-xl group-hover:scale-110 transition-transform duration-200\">\n {totalPosts}\n </span>\n <span className=\"text-gray-200 ml-2\">Posts</span>\n </div>\n <div\n onClick={() => setShowFollowers(true)}\n className=\"flex items-center group cursor-pointer hover:text-yellow-300 transition-all duration-200\"\n >\n <span className=\"font-semibold text-xl group-hover:scale-110 transition-transform duration-200\">\n {user?.followers?.length || 0}\n </span>\n <span className=\"text-gray-200 ml-2\">Followers</span>\n </div>\n <div\n onClick={() => setShowFollowing(true)}\n className=\"flex items-center group cursor-pointer hover:text-yellow-300 transition-all duration-200\"\n >\n <span className=\"font-semibold text-xl group-hover:scale-110 transition-transform duration-200\">\n {user?.followings?.length || 0}\n </span>\n <span className=\"text-gray-200 ml-2\">Following</span>\n </div>\n </div>\n <p className=\"text-gray-100 italic bg-white bg-opacity-10 p-3 rounded-lg shadow-inner text-center max-w-md mx-auto max-h-24 overflow-y-auto\">\n {user?.bio || \"No bio yet.\"}\n </p>\n </div>\n </div>\n </div>\n </header>\n\n <div className=\"max-w-4xl mx-auto px-6 py-8\">\n <div className=\"flex justify-center space-x-10 border-b border-gray-200 pb-4 bg-white rounded-t-xl shadow-md\">\n {[\"debate\", \"discussion\", \"blogs\"].map((tab) => (\n <button\n key={tab}\n onClick={() => setActiveTab(tab)}\n className={`relative px-6 py-2 text-sm font-semibold uppercase ${\n activeTab === tab ? \"text-blue-600\" : \"text-gray-600 hover:text-gray-800\"\n } transition-all duration-300 ease-in-out`}\n >\n {tab}\n {activeTab === tab && (\n <span className=\"absolute bottom-0 left-0 w-full h-1 bg-blue-600 rounded-t-full transform scale-x-100 transition-transform duration-300 ease-in-out\"></span>\n )}\n </button>\n ))}\n </div>\n\n <motion.div\n key={activeTab}\n initial={{ opacity: 0, y: 20 }}\n animate={{ opacity: 1, y: 0 }}\n transition={{ duration: 0.5 }}\n className=\"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 bg-white p-6 rounded-b-xl shadow-md\"\n >\n {isOwnProfile && (\n <div className=\"col-span-full flex justify-end mb-4\">\n {activeTab === \"debate\" && (\n <Link\n to=\"/createDebate\"\n className=\"bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200 shadow-md\"\n >\n Create Debate\n </Link>\n )}\n {activeTab === \"discussion\" && (\n <Link\n to=\"/createDiscussion\"\n className=\"bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md\"\n >\n Create Discussion\n </Link>\n )}\n {activeTab === \"blogs\" && (\n <Link\n to=\"/createBlog\"\n className=\"bg-pink-500 text-white px-4 py-2 rounded-lg hover:bg-pink-600 transition-all duration-200 shadow-md\"\n >\n Create Blog\n </Link>\n )}\n </div>\n )}\n\n {activeTab === \"debate\" && (\n createdDebates.length > 0 ? (\n createdDebates.map((deb) => (\n <div\n key={deb._id}\n className=\"bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg relative h-32 overflow-hidden\"\n onClick={(e) => {\n if (!e.target.closest(\".delete-menu-button\") && !e.target.closest(\".delete-menu\")) {\n handleDebateClick(deb._id);\n }\n }}\n >\n <div className=\"flex justify-between items-start h-full\">\n <div className=\"flex-1 overflow-hidden\">\n <h3 className=\"text-sm font-semibold text-gray-900 truncate\">{deb.title || \"Untitled Debate\"}</h3>\n <p className=\"text-gray-600 text-xs mt-1 line-clamp-3\">{deb.openingArgument || \"No opening argument\"}</p>\n </div>\n {isOwnProfile && (\n <div className=\"relative\">\n <button\n className=\"delete-menu-button p-1 hover:bg-gray-200 rounded-full\"\n onClick={(e) => {\n e.stopPropagation();\n setShowDeleteMenu(showDeleteMenu === deb._id ? null : deb._id);\n }}\n >\n <span className=\"text-gray-600 text-lg leading-none\">⋯</span>\n </button>\n {showDeleteMenu === deb._id && (\n <div className=\"delete-menu absolute right-0 mt-1 w-32 bg-white rounded-lg shadow-xl z-10 border border-gray-200\">\n <button\n className=\"w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 text-left\"\n onClick={(e) => {\n e.stopPropagation();\n handleDeleteDebate(deb._id);\n }}\n >\n Delete\n </button>\n </div>\n )}\n </div>\n )}\n </div>\n </div>\n ))\n ) : (\n <p className=\"col-span-3 text-center text-gray-500\">No debates created yet.</p>\n )\n )}\n {activeTab === \"discussion\" && (\n createdDiscussions.length > 0 ? (\n createdDiscussions.map((disc) => (\n <div\n key={disc._id}\n className=\"bg-gradient-to-br from-gray-50 to-purple-50 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg relative h-32 overflow-hidden\"\n onClick={(e) => {\n if (!e.target.closest(\".delete-menu-button\") && !e.target.closest(\".delete-menu\")) {\n handleDiscussionClick(disc._id);\n }\n }}\n >\n <div className=\"flex justify-between items-start h-full\">\n <div className=\"flex-1 overflow-hidden\">\n <h3 className=\"text-sm font-semibold text-gray-900 truncate\">{disc.title || \"Untitled Discussion\"}</h3>\n <p className=\"text-gray-600 text-xs mt-1 line-clamp-3\">{disc.description || \"No description\"}</p>\n </div>\n {isOwnProfile && (\n <div className=\"relative\">\n <button\n className=\"delete-menu-button p-1 hover:bg-gray-200 rounded-full\"\n onClick={(e) => {\n e.stopPropagation();\n setShowDeleteMenu(showDeleteMenu === disc._id ? null : disc._id);\n }}\n >\n <span className=\"text-gray-600 text-lg leading-none\">⋯</span>\n </button>\n {showDeleteMenu === disc._id && (\n <div className=\"delete-menu absolute right-0 mt-1 w-32 bg-white rounded-lg shadow-xl z-10 border border-gray-200\">\n <button\n className=\"w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 text-left\"\n onClick={(e) => {\n e.stopPropagation();\n handleDeleteDiscussion(disc._id);\n }}\n >\n Delete\n </button>\n </div>\n )}\n </div>\n )}\n </div>\n </div>\n ))\n ) : (\n <p className=\"col-span-3 text-center text-gray-500\">No discussions created yet.</p>\n )\n )}\n {activeTab === \"blogs\" && (\n createdBlogs.length > 0 ? (\n createdBlogs.map((blog) => (\n <div\n key={blog._id}\n className=\"bg-gradient-to-br from-gray-50 to-pink-50 rounded-xl p-4 cursor-pointer hover:shadow-xl hover:scale-105 transition-all duration-300 shadow-lg relative h-48 overflow-hidden\"\n onClick={(e) => {\n if (!e.target.closest(\".delete-menu-button\") && !e.target.closest(\".delete-menu\")) {\n handleBlogClick(blog._id);\n }\n }}\n >\n <div className=\"flex justify-between items-start h-full flex-col\">\n <div className=\"flex-1 w-full overflow-hidden\">\n <h3 className=\"text-sm font-semibold text-gray-900 truncate\">{blog.title || \"Untitled Blog\"}</h3>\n <p className=\"text-gray-600 text-xs mt-1 line-clamp-2\">{blog.content || \"No content\"}</p>\n </div>\n {blog.fileUrl && blog.fileUrl.match(/\\.(jpeg|jpg|png)$/i) && (\n <img\n src={`${BACKEND_BASE_URL}${blog.fileUrl}`}\n alt=\"Blog media\"\n className=\"w-full h-20 object-cover rounded-lg mt-2 hover:opacity-90 transition -opacity duration-200 shadow-sm\"\n />\n )}\n {isOwnProfile && (\n <div className=\"relative self-end mt-2\">\n <button\n className=\"delete-menu-button p-1 hover:bg-gray-200 rounded-full\"\n onClick={(e) => {\n e.stopPropagation();\n setShowDeleteMenu(showDeleteMenu === blog._id ? null : blog._id);\n }}\n >\n <span className=\"text-gray-600 text-lg leading-none\">⋯</span>\n </button>\n {showDeleteMenu === blog._id && (\n <div className=\"delete-menu absolute bottom-5 right-3 mt-0 w-32 bg-white rounded-lg shadow-xl z-10 border border-gray-200\">\n <button\n className=\"w-full px-4 py-2 text-sm text-red-600 hover:bg-gray-100 text-left\"\n onClick={(e) => {\n e.stopPropagation();\n handleDeleteBlog(blog._id);\n }}\n >\n Delete\n </button>\n </div>\n )}\n </div>\n )}\n </div>\n </div>\n ))\n ) : (\n <p className=\"col-span-3 text-center text-gray-500\">No blogs yet.</p>\n )\n )}\n </motion.div>\n </div>\n\n {showFollowers && (\n <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\">\n <div className=\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-y-auto animate-fade-in border-t-4 border-blue-500\">\n <h2 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">Followers</h2>\n {user?.followers?.length > 0 ? (\n <ul className=\"space-y-4\">\n {user.followers.map((follower) => (\n <li\n key={follower._id}\n className=\"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-all duration-200 shadow-sm\"\n onClick={() => handleProfileClick(follower.username)}\n >\n <img\n src={\n follower.profilePicture\n ? `${BACKEND_BASE_URL}${follower.profilePicture}`\n : `${BACKEND_BASE_URL}/images/default-avatar.png`\n }\n alt={follower.username}\n className=\"w-12 h-12 rounded-full border-2 border-blue-300 shadow-sm\"\n />\n <span className=\"text-sm font-semibold text-gray-900\">{follower.username}</span>\n </li>\n ))}\n </ul>\n ) : (\n <p className=\"text-center text-gray-500\">No followers yet.</p>\n )}\n <button\n onClick={() => setShowFollowers(false)}\n className=\"mt-6 w-full bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200 shadow-md\"\n >\n Close\n </button>\n </div>\n </div>\n )}\n\n {showFollowing && (\n <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\">\n <div className=\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-y-auto animate-fade-in border-t-4 border-purple-500\">\n <h2 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">Following</h2>\n {user?.followings?.length > 0 ? (\n <ul className=\"space-y-4\">\n {user.followings.map((following) => (\n <li\n key={following._id}\n className=\"flex items-center space-x-4 p-3 bg-gray-50 rounded-lg cursor-pointer hover:bg-gray-100 transition-all duration-200 shadow-sm\"\n onClick={() => handleProfileClick(following.username)}\n >\n <img\n src={\n following.profilePicture\n ? `${BACKEND_BASE_URL}${following.profilePicture}`\n : `${BACKEND_BASE_URL}/images/default-avatar.png`\n }\n alt={following.username}\n className=\"w-12 h-12 rounded-full border-2 border-purple-300 shadow-sm\"\n />\n <span className=\"text-sm font-semibold text-gray-900\">{following.username}</span>\n </li>\n ))}\n </ul>\n ) : (\n <p className=\"text-center text-gray-500\">Not following anyone yet.</p>\n )}\n <button\n onClick={() => setShowFollowing(false)}\n className=\"mt-6 w-full bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md\"\n >\n Close\n </button>\n </div>\n </div>\n )}\n\n {showChangeBioModal && (\n <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\">\n <div className=\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full animate-fade-in border-t-4 border-blue-500\">\n <h2 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">Change Bio</h2>\n <textarea\n value={newBio}\n onChange={(e) => setNewBio(e.target.value)}\n className=\"w-full p-4 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 shadow-sm\"\n rows=\"4\"\n placeholder=\"Enter your new bio...\"\n maxLength={100}\n />\n <p className=\"text-sm text-gray-500 mt-1\">{newBio.length}/100 characters</p>\n <div className=\"flex space-x-4 mt-6\">\n <button\n onClick={handleChangeBio}\n className=\"flex-1 bg-blue-500 text-white px-4 py-2 rounded-lg hover:bg-blue-600 transition-all duration-200 shadow-md transform hover:scale-105\"\n >\n Save\n </button>\n <button\n onClick={() => setShowChangeBioModal(false)}\n className=\"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-all duration-200 shadow-md\"\n >\n Cancel\n </button>\n </div>\n </div>\n </div>\n )}\n\n {showChangePasswordModal && (\n <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\">\n <div className=\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full animate-fade-in border-t-4 border-purple-500\">\n <h2 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">Change Password</h2>\n <input\n type=\"password\"\n value={oldPassword}\n onChange={(e) => setOldPassword(e.target.value)}\n placeholder=\"Old Password\"\n className=\"w-full p-4 mb-4 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 shadow-sm\"\n />\n <input\n type=\"password\"\n value={newPassword}\n onChange={(e) => setNewPassword(e.target.value)}\n placeholder=\"New Password\"\n className=\"w-full p-4 mb-4 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-all duration-200 shadow-sm\"\n />\n <div className=\"flex space-x-4 mt-6\">\n <button\n onClick={handleChangePassword}\n className=\"flex-1 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md transform hover:scale-105\"\n >\n Save\n </button>\n <button\n onClick={() => {\n setShowChangePasswordModal(false);\n setOldPassword(\"\");\n setNewPassword(\"\");\n setProfileError(\"\");\n }}\n className=\"flex-1 bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-all duration-200 shadow-md\"\n >\n Cancel\n </button>\n </div>\n </div>\n </div>\n )}\n\n {showChangeProfilePictureModal && (\n <div className=\"fixed inset-0 bg-black bg-opacity-60 flex justify-center items-center\">\n <div className=\"bg-white p-8 rounded-xl shadow-2xl max-w-md w-full animate-fade-in border-t-4 border-purple-500\">\n <h2 className=\"text-2xl font-bold text-gray-900 mb-6 text-center\">Change Profile Picture</h2>\n <input\n type=\"file\"\n accept=\"image/*\"\n onChange={(e) => setNewProfilePicture(e.target.files[0])}\n className=\"w-full p-3 bg-gray-50 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-purple-500 transition-all duration-200 shadow-sm\"\n />\n <div className=\"flex space-x-4 mt-6\">\n <button\n onClick={handleChangeProfilePicture}\n className=\"flex-1 bg-purple-500 text-white px-4 py-2 rounded-lg hover:bg-purple-600 transition-all duration-200 shadow-md transform hover:scale-105\"\n >\n Upload\n </button>\n <button\n onClick={() => setShowChangeProfilePictureModal(false)}\n className=\"flex-1 bg-gray- 200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300 transition-all duration-200 shadow-md\"\n >\n Cancel\n </button>\n </div>\n </div>\n </div>\n )}\n </div>\n );\n};\n\nexport default ProfilePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}